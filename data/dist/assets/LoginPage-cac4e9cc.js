import{T as Re,b4 as Te,aY as St,b5 as Et,v as j,av as Ce,c as P,f as E,aR as Q,M as et,Z as Be,x as Ie,b6 as wt,b7 as At,b8 as jt,b9 as q,L as Tt,ae as tt,o as Ne,a as Pt,w as M,b as F,a5 as Ge,A as H,t as ee,B as nt,g as rt,e as ke,G as Ft,p as Ct,a7 as at,aC as Bt,U as It,z as Nt,a3 as kt,l as Rt,ap as Mt,C as Ut,y as zt}from"./index-61371d60.js";import{a as Dt}from"./md5-0038c899.js";import{L as Lt}from"./LanguageSwitcher-43bc380c.js";import{useCustomizerStore as Ye}from"./customizer-e056107a.js";import"./_plugin-vue_export-helper-c27b6911.js";const $t="/assets/icon-no-shadow-e144f52a.svg";/**
  * vee-validate v4.11.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function N(e){return typeof e=="function"}function it(e){return e==null}const te=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Me(e){return Number(e)>=0}function xt(e){return typeof e=="object"&&e!==null}function Ht(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Gt(e){if(!xt(e)||Ht(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function be(e,t){return Object.keys(t).forEach(n=>{if(Gt(t[n])){e[n]||(e[n]={}),be(e[n],t[n]);return}e[n]=t[n]}),e}function ge(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(Me(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const Yt={};function qt(e){return Yt[e]}const Wt=Symbol("vee-validate-form"),Kt=typeof window<"u";function Zt(e){return N(e)&&!!e.__locatorRef}function ne(e){return!!e&&N(e.parse)&&e.__type==="VVTypedSchema"}function lt(e){return!!e&&N(e.validate)}function Jt(e){return e==="checkbox"||e==="radio"}function Qt(e){return te(e)||Array.isArray(e)}function Xt(e){return Array.isArray(e)?e.length===0:te(e)&&Object.keys(e).length===0}function _e(e){return/^\[.+\]$/i.test(e)}function en(e){return ot(e)&&e.multiple}function ot(e){return e.tagName==="SELECT"}function ut(e){return Ue(e)&&e.target&&"submit"in e.target}function Ue(e){return e?!!(typeof Event<"u"&&N(Event)&&e instanceof Event||e&&e.srcElement):!1}function de(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,l;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!de(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!de(i[1],t.get(i[0])))return!1;return!0}if(qe(e)&&qe(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(l=Object.keys(e),n=l.length,i=n;i--!==0;){var o=l[i];if(!de(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function qe(e){return Kt?e instanceof File:!1}function We(e,t,n){typeof n.value=="object"&&(n.value=V(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function V(e){if(typeof e!="object")return e;var t=0,n,i,l,o=Object.prototype.toString.call(e);if(o==="[object Object]"?l=Object.create(e.__proto__||null):o==="[object Array]"?l=Array(e.length):o==="[object Set]"?(l=new Set,e.forEach(function(s){l.add(V(s))})):o==="[object Map]"?(l=new Map,e.forEach(function(s,m){l.set(V(m),V(s))})):o==="[object Date]"?l=new Date(+e):o==="[object RegExp]"?l=new RegExp(e.source,e.flags):o==="[object DataView]"?l=new e.constructor(V(e.buffer)):o==="[object ArrayBuffer]"?l=e.slice(0):o.slice(-6)==="Array]"&&(l=new e.constructor(e)),l){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)We(l,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(l,n=i[t])&&l[n]===e[n]||We(l,n,Object.getOwnPropertyDescriptor(e,n))}return l||e}function ze(e){return _e(e)?e.replace(/\[|\]/gi,""):e}function z(e,t,n){return e?_e(t)?e[ze(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((l,o)=>Qt(l)&&o in l?l[o]:n,e):n}function W(e,t,n){if(_e(t)){e[ze(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let l=e;for(let o=0;o<i.length;o++){if(o===i.length-1){l[i[o]]=n;return}(!(i[o]in l)||it(l[i[o]]))&&(l[i[o]]=Me(i[o+1])?[]:{}),l=l[i[o]]}}function Pe(e,t){if(Array.isArray(e)&&Me(t)){e.splice(Number(t),1);return}te(e)&&delete e[t]}function Ke(e,t){if(_e(t)){delete e[ze(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let o=0;o<n.length;o++){if(o===n.length-1){Pe(i,n[o]);break}if(!(n[o]in i)||it(i[n[o]]))break;i=i[n[o]]}const l=n.map((o,s)=>z(e,n.slice(0,s).join(".")));for(let o=l.length-1;o>=0;o--)if(Xt(l[o])){if(o===0){Pe(e,n[0]);continue}Pe(l[o-1],n[o-1])}}function U(e){return Object.keys(e)}function Ze(e,t=0){let n=null,i=[];return function(...l){return n&&clearTimeout(n),n=setTimeout(()=>{const o=e(...l);i.forEach(s=>s(o)),i=[]},t),new Promise(o=>i.push(o))}}function tn(e,t){let n;return async function(...l){const o=e(...l);n=o;const s=await o;return o!==n||(n=void 0,t(s,l)),s}}function Je(e){return Array.isArray(e)?e:e?[e]:[]}function se(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function nn(e){let t=null,n=[];return function(...i){const l=Q(()=>{if(t!==l)return;const o=e(...i);n.forEach(s=>s(o)),n=[],t=null});return t=l,new Promise(o=>n.push(o))}}const rn=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,l;return(l=(i=t.slots).default)===null||l===void 0?void 0:l.call(i,n())}}:t.slots.default;function Fe(e){if(st(e))return e._value}function st(e){return"_value"in e}function an(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function Qe(e){if(!Ue(e))return e;const t=e.target;if(Jt(t.type)&&st(t))return Fe(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(en(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Fe);if(ot(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Fe(n):t.value}return an(t)}function ln(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?te(e)&&e._$$isNormalized?e:te(e)?Object.keys(e).reduce((n,i)=>{const l=on(e[i]);return e[i]!==!1&&(n[i]=Xe(l)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const l=un(i);return l.name&&(n[l.name]=Xe(l.params)),n},t):t}function on(e){return e===!0?[]:Array.isArray(e)||te(e)?e:[e]}function Xe(e){const t=n=>typeof n=="string"&&n[0]==="@"?sn(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const un=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function sn(e){const t=n=>z(n,e)||n[e];return t.__locatorRef=e,t}const cn={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let dn=Object.assign({},cn);const X=()=>dn;async function fn(e,t,n={}){const i=n==null?void 0:n.bails,l={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},s=(await vn(l,e)).errors;return{errors:s,valid:!s.length}}async function vn(e,t){if(ne(e.rules)||lt(e.rules))return hn(t,e.rules);if(N(e.rules)||Array.isArray(e.rules)){const s={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},m=Array.isArray(e.rules)?e.rules:[e.rules],f=m.length,d=[];for(let h=0;h<f;h++){const S=m[h],g=await S(t,s);if(!(typeof g!="string"&&!Array.isArray(g)&&g)){if(Array.isArray(g))d.push(...g);else{const C=typeof g=="string"?g:dt(s);d.push(C)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:ln(e.rules)}),i=[],l=Object.keys(n.rules),o=l.length;for(let s=0;s<o;s++){const m=l[s],f=await pn(n,t,{name:m,params:n.rules[m]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function mn(e){return!!e&&e.name==="ValidationError"}function ct(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(l){if(!mn(l))throw l;if(!(!((i=l.inner)===null||i===void 0)&&i.length)&&l.errors.length)return{errors:[{path:l.path,errors:l.errors}]};const o=l.inner.reduce((s,m)=>{const f=m.path||"";return s[f]||(s[f]={errors:[],path:f}),s[f].errors.push(...m.errors),s},{});return{errors:Object.values(o)}}}}}async function hn(e,t){const i=await(ne(t)?t:ct(t)).parse(e),l=[];for(const o of i.errors)o.errors.length&&l.push(...o.errors);return{errors:l}}async function pn(e,t,n){const i=qt(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const l=yn(n.params,e.formData),o={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:l})},s=await i(t,l,o);return typeof s=="string"?{error:s}:{error:s?void 0:dt(o)}}function dt(e){const t=X().generateMessage;return t?t(e):"Field is invalid"}function yn(e,t){const n=i=>Zt(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,l)=>(i[l]=n(e[l]),i),{})}async function gn(e,t){const i=await(ne(e)?e:ct(e)).parse(t),l={},o={};for(const s of i.errors){const m=s.errors,f=(s.path||"").replace(/\["(\d+)"\]/g,(d,h)=>`[${h}]`);l[f]={valid:!m.length,errors:m},m.length&&(o[f]=m[0])}return{valid:!i.errors.length,results:l,errors:o,values:i.value}}async function bn(e,t,n){const l=U(e).map(async d=>{var h,S,g;const w=(h=n==null?void 0:n.names)===null||h===void 0?void 0:h[d],C=await fn(z(t,d),e[d],{name:(w==null?void 0:w.name)||d,label:w==null?void 0:w.label,values:t,bails:(g=(S=n==null?void 0:n.bailsMap)===null||S===void 0?void 0:S[d])!==null&&g!==void 0?g:!0});return Object.assign(Object.assign({},C),{path:d})});let o=!0;const s=await Promise.all(l),m={},f={};for(const d of s)m[d.path]={valid:d.valid,errors:d.errors},d.valid||(o=!1,f[d.path]=d.errors[0]);return{valid:o,results:m,errors:f}}let _n=0;const ce=["bails","fieldsCount","id","multiple","type","validate"];function ft(e){const t=E(e==null?void 0:e.initialValues)||{},n=E(e==null?void 0:e.validationSchema);return n&&ne(n)&&N(n.cast)?V(n.cast(t)||{}):V(t)}function On(e){var t;const n=_n++;let i=0;const l=j(!1),o=j(!1),s=j(0),m=[],f=Ce(ft(e)),d=j([]),h=j({}),S=j({}),g=nn(()=>{S.value=d.value.reduce((a,r)=>(a[ge(q(r.path))]=r,a),{})});function w(a,r){const u=A(a);if(!u){typeof a=="string"&&(h.value[ge(a)]=Je(r));return}if(typeof a=="string"){const c=ge(a);h.value[c]&&delete h.value[c]}u.errors=Je(r),u.valid=!u.errors.length}function C(a){U(a).forEach(r=>{w(r,a[r])})}e!=null&&e.initialErrors&&C(e.initialErrors);const K=P(()=>{const a=d.value.reduce((r,u)=>(u.errors.length&&(r[u.path]=u.errors),r),{});return Object.assign(Object.assign({},h.value),a)}),Z=P(()=>U(K.value).reduce((a,r)=>{const u=K.value[r];return u!=null&&u.length&&(a[r]=u[0]),a},{})),re=P(()=>d.value.reduce((a,r)=>(a[r.path]={name:r.path||"",label:r.label||""},a),{})),fe=P(()=>d.value.reduce((a,r)=>{var u;return a[r.path]=(u=r.bails)!==null&&u!==void 0?u:!0,a},{})),ae=Object.assign({},(e==null?void 0:e.initialErrors)||{}),ve=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:D,originalInitialValues:J,setInitialValues:me}=Sn(d,f,e),he=Vn(d,f,J,Z),ie=P(()=>d.value.reduce((a,r)=>{const u=z(f,r.path);return W(a,r.path,u),a},{})),I=e==null?void 0:e.validationSchema;function G(a,r){var u,c;const p=P(()=>z(D.value,q(a))),v=S.value[q(a)];if(v){((r==null?void 0:r.type)==="checkbox"||(r==null?void 0:r.type)==="radio")&&(v.multiple=!0);const T=i++;return Array.isArray(v.id)?v.id.push(T):v.id=[v.id,T],v.fieldsCount++,v.__flags.pendingUnmount[T]=!1,v}const y=P(()=>z(f,q(a))),O=q(a),b=i++,_=Ce({id:b,path:a,touched:!1,pending:!1,valid:!0,validated:!!(!((u=ae[O])===null||u===void 0)&&u.length),initialValue:p,errors:Tt([]),bails:(c=r==null?void 0:r.bails)!==null&&c!==void 0?c:!1,label:r==null?void 0:r.label,type:(r==null?void 0:r.type)||"default",value:y,multiple:!1,__flags:{pendingUnmount:{[b]:!1}},fieldsCount:1,validate:r==null?void 0:r.validate,dirty:P(()=>!de(E(y),E(p)))});return d.value.push(_),S.value[O]=_,g(),Z.value[O]&&!ae[O]&&Q(()=>{Y(O,{mode:"silent"})}),Be(a)&&Ie(a,T=>{g();const ue=V(y.value);S.value[T]=_,Q(()=>{W(f,T,ue)})}),_}const Oe=Ze(He,5),pe=Ze(He,5),le=tn(async a=>await a==="silent"?Oe():pe(),(a,[r])=>{const u=U(R.errorBag.value);return[...new Set([...U(a.results),...d.value.map(p=>p.path),...u])].sort().reduce((p,v)=>{const y=v,O=A(y)||k(y),b=(a.results[y]||{errors:[]}).errors,_={errors:b,valid:!b.length};return p.results[y]=_,_.valid||(p.errors[y]=_.errors[0]),O&&h.value[y]&&delete h.value[y],O?(O.valid=_.valid,r==="silent"||r==="validated-only"&&!O.validated||w(O,_.errors),p):(w(y,b),p)},{valid:a.valid,results:{},errors:{}})});function L(a){d.value.forEach(a)}function A(a){const r=typeof a=="string"?ge(a):a;return typeof r=="string"?S.value[r]:r}function k(a){return d.value.filter(u=>a.startsWith(u.path)).reduce((u,c)=>u?c.path.length>u.path.length?c:u:c,void 0)}let B=[],$;function Ve(a){return B.push(a),$||($=Q(()=>{[...B].sort().reverse().forEach(u=>{Ke(f,u)}),B=[],$=null})),$}function De(a){return function(u,c){return function(v){return v instanceof Event&&(v.preventDefault(),v.stopPropagation()),L(y=>y.touched=!0),l.value=!0,s.value++,oe().then(y=>{const O=V(f);if(y.valid&&typeof u=="function"){const b=V(ie.value);let _=a?b:O;return y.values&&(_=y.values),u(_,{evt:v,controlledValues:b,setErrors:C,setFieldError:w,setTouched:we,setFieldTouched:ye,setValues:Ee,setFieldValue:x,resetForm:Ae,resetField:$e})}!y.valid&&typeof c=="function"&&c({values:O,evt:v,errors:y.errors,results:y.results})}).then(y=>(l.value=!1,y),y=>{throw l.value=!1,y})}}}const Se=De(!1);Se.withControlled=De(!0);function vt(a,r){const u=d.value.findIndex(p=>p.path===a),c=d.value[u];if(!(u===-1||!c)){if(Q(()=>{Y(a,{mode:"silent",warn:!1})}),c.multiple&&c.fieldsCount&&c.fieldsCount--,Array.isArray(c.id)){const p=c.id.indexOf(r);p>=0&&c.id.splice(p,1),delete c.__flags.pendingUnmount[r]}(!c.multiple||c.fieldsCount<=0)&&(d.value.splice(u,1),xe(a),g(),delete S.value[a])}}function mt(a){return L(r=>{r.path.startsWith(a)&&U(r.__flags.pendingUnmount).forEach(u=>{r.__flags.pendingUnmount[u]=!0})})}const R={formId:n,values:f,controlledValues:ie,errorBag:K,errors:Z,schema:I,submitCount:s,meta:he,isSubmitting:l,isValidating:o,fieldArrays:m,keepValuesOnUnmount:ve,validateSchema:E(I)?le:void 0,validate:oe,setFieldError:w,validateField:Y,setFieldValue:x,setValues:Ee,setErrors:C,setFieldTouched:ye,setTouched:we,resetForm:Ae,resetField:$e,handleSubmit:Se,stageInitialValue:bt,unsetInitialValue:xe,setFieldInitialValue:je,useFieldModel:ht,createPathState:G,getPathState:A,unsetPathValue:Ve,removePathState:vt,initialValues:D,getAllPathStates:()=>d.value,markForUnmount:mt,isFieldTouched:pt,isFieldDirty:yt,isFieldValid:gt};function x(a,r,u=!0){const c=V(r),p=typeof a=="string"?a:a.path;A(p)||G(p),W(f,p,c),u&&Y(p)}function Ee(a,r=!0){be(f,a),m.forEach(u=>u&&u.reset()),r&&oe()}function Le(a){const r=A(E(a))||G(a);return P({get(){return r.value},set(u){const c=E(a);x(c,u,!1),r.validated=!0,r.pending=!0,Y(c).then(()=>{r.pending=!1})}})}function ht(a){return Array.isArray(a)?a.map(Le):Le(a)}function ye(a,r){const u=A(a);u&&(u.touched=r)}function pt(a){var r;return!!(!((r=A(a))===null||r===void 0)&&r.touched)}function yt(a){var r;return!!(!((r=A(a))===null||r===void 0)&&r.dirty)}function gt(a){var r;return!!(!((r=A(a))===null||r===void 0)&&r.valid)}function we(a){if(typeof a=="boolean"){L(r=>{r.touched=a});return}U(a).forEach(r=>{ye(r,!!a[r])})}function $e(a,r){var u;const c=r&&"value"in r?r.value:z(D.value,a);je(a,V(c)),x(a,c,!1),ye(a,(u=r==null?void 0:r.touched)!==null&&u!==void 0?u:!1),w(a,(r==null?void 0:r.errors)||[])}function Ae(a){let r=a!=null&&a.values?a.values:J.value;r=ne(I)&&N(I.cast)?I.cast(r):r,me(r),L(u=>{var c;u.validated=!1,u.touched=((c=a==null?void 0:a.touched)===null||c===void 0?void 0:c[u.path])||!1,x(u.path,z(r,u.path),!1),w(u.path,void 0)}),Ee(r,!1),C((a==null?void 0:a.errors)||{}),s.value=(a==null?void 0:a.submitCount)||0,Q(()=>{oe({mode:"silent"})})}async function oe(a){const r=(a==null?void 0:a.mode)||"force";if(r==="force"&&L(v=>v.validated=!0),R.validateSchema)return R.validateSchema(r);o.value=!0;const u=await Promise.all(d.value.map(v=>v.validate?v.validate(a).then(y=>({key:v.path,valid:y.valid,errors:y.errors})):Promise.resolve({key:v.path,valid:!0,errors:[]})));o.value=!1;const c={},p={};for(const v of u)c[v.key]={valid:v.valid,errors:v.errors},v.errors.length&&(p[v.key]=v.errors[0]);return{valid:u.every(v=>v.valid),results:c,errors:p}}async function Y(a,r){var u;const c=A(a);if(c&&(c.validated=!0),I){const{results:p}=await le((r==null?void 0:r.mode)||"validated-only");return p[a]||{errors:[],valid:!0}}return c!=null&&c.validate?c.validate(r):(!c&&(u=r==null?void 0:r.warn),Promise.resolve({errors:[],valid:!0}))}function xe(a){Ke(D.value,a)}function bt(a,r,u=!1){je(a,r),W(f,a,r),u&&!(e!=null&&e.initialValues)&&W(J.value,a,V(r))}function je(a,r){W(D.value,a,V(r))}async function He(){const a=E(I);if(!a)return{valid:!0,results:{},errors:{}};o.value=!0;const r=lt(a)||ne(a)?await gn(a,f):await bn(a,f,{names:re.value,bailsMap:fe.value});return o.value=!1,r}const _t=Se((a,{evt:r})=>{ut(r)&&r.target.submit()});et(()=>{if(e!=null&&e.initialErrors&&C(e.initialErrors),e!=null&&e.initialTouched&&we(e.initialTouched),e!=null&&e.validateOnMount){oe();return}R.validateSchema&&R.validateSchema("silent")}),Be(I)&&Ie(I,()=>{var a;(a=R.validateSchema)===null||a===void 0||a.call(R,"validated-only")}),wt(Wt,R);function Ot(a,r){const u=A(q(a))||G(a),c=()=>N(r)?r(se(u,ce)):r||{};function p(){var O;u.touched=!0,((O=c().validateOnBlur)!==null&&O!==void 0?O:X().validateOnBlur)&&Y(u.path)}function v(O){var b;const _=(b=c().validateOnModelUpdate)!==null&&b!==void 0?b:X().validateOnModelUpdate;x(u.path,O,_)}return P(()=>{if(N(r)){const _=r(u),T=_.model||"modelValue";return Object.assign({onBlur:p,[T]:u.value,[`onUpdate:${T}`]:v},_.props||{})}const O=(r==null?void 0:r.model)||"modelValue",b={onBlur:p,[O]:u.value,[`onUpdate:${O}`]:v};return r!=null&&r.mapProps?Object.assign(Object.assign({},b),r.mapProps(se(u,ce))):b})}function Vt(a,r){const u=A(q(a))||G(a),c=()=>N(r)?r(se(u,ce)):r||{};function p(){var b;u.touched=!0,((b=c().validateOnBlur)!==null&&b!==void 0?b:X().validateOnBlur)&&Y(u.path)}function v(b){var _;const T=Qe(b),ue=(_=c().validateOnInput)!==null&&_!==void 0?_:X().validateOnInput;x(u.path,T,ue)}function y(b){var _;const T=Qe(b),ue=(_=c().validateOnChange)!==null&&_!==void 0?_:X().validateOnChange;x(u.path,T,ue)}return P(()=>{const b={value:u.value,onChange:y,onInput:v,onBlur:p};return N(r)?Object.assign(Object.assign({},b),r(se(u,ce)).attrs||{}):r!=null&&r.mapAttrs?Object.assign(Object.assign({},b),r.mapAttrs(se(u,ce))):b})}return Object.assign(Object.assign({},R),{values:At(f),handleReset:()=>Ae(),submitForm:_t,defineComponentBinds:Ot,defineInputBinds:Vt})}function Vn(e,t,n,i){const l={touched:"some",pending:"some",valid:"every"},o=P(()=>!de(t,E(n)));function s(){const f=e.value;return U(l).reduce((d,h)=>{const S=l[h];return d[h]=f[S](g=>g[h]),d},{})}const m=Ce(s());return jt(()=>{const f=s();m.touched=f.touched,m.valid=f.valid,m.pending=f.pending}),P(()=>Object.assign(Object.assign({initialValues:E(n)},m),{valid:m.valid&&!U(i.value).length,dirty:o.value}))}function Sn(e,t,n){const i=ft(n),l=n==null?void 0:n.initialValues,o=j(i),s=j(V(i));function m(f,d=!1){o.value=be(V(o.value)||{},V(f)),s.value=be(V(s.value)||{},V(f)),d&&e.value.forEach(h=>{if(h.touched)return;const g=z(o.value,h.path);W(t,h.path,V(g))})}return Be(l)&&Ie(l,f=>{f&&m(f,!0)},{deep:!0}),{initialValues:o,originalInitialValues:s,setInitialValues:m}}const En=Re({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Te(e,"initialValues"),i=Te(e,"validationSchema"),l=Te(e,"keepValues"),{errors:o,errorBag:s,values:m,meta:f,isSubmitting:d,isValidating:h,submitCount:S,controlledValues:g,validate:w,validateField:C,handleReset:K,resetForm:Z,handleSubmit:re,setErrors:fe,setFieldError:ae,setFieldValue:ve,setValues:D,setFieldTouched:J,setTouched:me,resetField:he}=On({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:l}),ie=re((k,{evt:B})=>{ut(B)&&B.target.submit()},e.onInvalidSubmit),I=e.onSubmit?re(e.onSubmit,e.onInvalidSubmit):ie;function G(k){Ue(k)&&k.preventDefault(),K(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function Oe(k,B){return re(typeof k=="function"&&!B?k:B,e.onInvalidSubmit)(k)}function pe(){return V(m)}function le(){return V(f.value)}function L(){return V(o.value)}function A(){return{meta:f.value,errors:o.value,errorBag:s.value,values:m,isSubmitting:d.value,isValidating:h.value,submitCount:S.value,controlledValues:g.value,validate:w,validateField:C,handleSubmit:Oe,handleReset:K,submitForm:ie,setErrors:fe,setFieldError:ae,setFieldValue:ve,setValues:D,setFieldTouched:J,setTouched:me,resetForm:Z,resetField:he,getValues:pe,getMeta:le,getErrors:L}}return t.expose({setFieldError:ae,setErrors:fe,setFieldValue:ve,setValues:D,setFieldTouched:J,setTouched:me,resetForm:Z,validate:w,validateField:C,resetField:he,getValues:pe,getMeta:le,getErrors:L}),function(){const B=e.as==="form"?e.as:St(e.as),$=rn(B,t,A);if(!e.as)return $;const Ve=e.as==="form"?{novalidate:!0}:{};return Et(B,Object.assign(Object.assign(Object.assign({},Ve),t.attrs),{onSubmit:I,onReset:G}),$)}}}),wn=En,An={class:"mt-2"},jn={style:{color:"grey"}},Tn={class:"login-btn-text"},Pn={key:0,class:"mt-4 error-container"},Fn=Re({__name:"AuthLogin",setup(e){const{tm:t}=tt("features/auth"),n=j(!1),i=j(!1),l=j(""),o=j(""),s=j(!1);async function m(f,{setErrors:d}){s.value=!0;let h=l.value;l.value!=""&&(h=Dt(l.value));const S=at();return S.returnUrl=new URLSearchParams(window.location.search).get("redirect"),S.login(o.value,h).then(g=>{console.log(g),s.value=!1}).catch(g=>{d({apiError:g}),s.value=!1})}return(f,d)=>(Ne(),Pt(E(wn),{onSubmit:m,class:"mt-4 login-form"},{default:M(({errors:h,isSubmitting:S})=>[F(Ge,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=g=>o.value=g),label:E(t)("username"),class:"mb-6 input-field",required:"","hide-details":"auto",variant:"outlined","prepend-inner-icon":"mdi-account",disabled:s.value},null,8,["modelValue","label","disabled"]),F(Ge,{modelValue:l.value,"onUpdate:modelValue":d[1]||(d[1]=g=>l.value=g),label:E(t)("password"),required:"",variant:"outlined","hide-details":"auto","append-icon":i.value?"mdi-eye":"mdi-eye-off",type:i.value?"text":"password","onClick:append":d[2]||(d[2]=g=>i.value=!i.value),class:"pwd-input","prepend-inner-icon":"mdi-lock",disabled:s.value},null,8,["modelValue","label","append-icon","type","disabled"]),H("div",An,[H("small",jn,ee(E(t)("defaultHint")),1)]),F(nt,{color:"secondary",loading:S||s.value,block:"",class:"login-btn mt-8",variant:"flat",size:"large",disabled:n.value,type:"submit"},{default:M(()=>[H("span",Tn,ee(E(t)("login")),1)]),_:2},1032,["loading","disabled"]),h.apiError?(Ne(),rt("div",Pn,[F(Ft,{color:"error",variant:"tonal",icon:"mdi-alert-circle",border:"start"},{default:M(()=>[ke(ee(h.apiError),1)]),_:2},1024)])):Ct("",!0)]),_:1}))}});const Cn={class:"login-page-container"},Bn={class:"d-flex justify-space-between align-center w-100"},In=H("img",{width:"80",src:$t,alt:"AstrBot Logo"},null,-1),Nn={class:"d-flex align-center gap-1"},kn={class:"ml-2",style:{"font-size":"26px"}},Rn={class:"mt-2 ml-2",style:{"font-size":"14px",color:"grey"}},xn=Re({__name:"LoginPage",setup(e){const t=j(!1),n=Bt(),i=at(),l=Ye(),{tm:o}=tt("features/auth"),s=It();function m(){const f=l.uiTheme==="PurpleThemeDark"?"PurpleTheme":"PurpleThemeDark";l.SET_UI_THEME(f),s.global.name.value=f}return et(()=>{if(i.has_token()){n.push(i.returnUrl||"/");return}setTimeout(()=>{t.value=!0},100)}),(f,d)=>(Ne(),rt("div",Cn,[F(zt,{class:"login-card",elevation:"1"},{default:M(()=>[F(Nt,null,{default:M(()=>[H("div",Bn,[In,H("div",Nn,[F(Lt),F(kt,{vertical:"",class:"mx-1",style:{height:"24px !important",opacity:"0.9 !important","align-self":"center !important","border-color":"rgba(180, 148, 246, 0.8) !important"}}),F(nt,{onClick:m,class:"theme-toggle-btn",icon:"",variant:"text",size:"small"},{default:M(()=>[F(Rt,{size:"18",color:E(Ye)().uiTheme==="PurpleTheme"?"#5e35b1":"#d7c5fa"},{default:M(()=>[ke(" mdi-white-balance-sunny ")]),_:1},8,["color"]),F(Mt,{activator:"parent",location:"top"},{default:M(()=>[ke(ee(E(o)("theme.switchToLight")),1)]),_:1})]),_:1})])]),H("div",kn,ee(E(o)("logo.title")),1),H("div",Rn,ee(E(o)("logo.subtitle")),1)]),_:1}),F(Ut,null,{default:M(()=>[F(Fn)]),_:1})]),_:1})]))}});export{xn as default};
