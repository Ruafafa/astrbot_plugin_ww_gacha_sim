import{C as g}from"./ConsoleDisplayer-69ceb810.js";import{ae as c,g as f,A as n,t as r,f as s,b as a,ay as y,w as i,J as V,K as b,o as h,B as p,m as I,e as u,y as v,z as C,C as _,a5 as m,H as S,I as k}from"./index-61371d60.js";import"./common-619402c2.js";import"./_plugin-vue_export-helper-c27b6911.js";const D={style:{height:"100%"}},P={style:{"background-color":"var(--v-theme-surface)",padding:"8px","padding-left":"16px","border-radius":"8px","margin-bottom":"16px",display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between"}},w={class:"d-flex align-center"},x={class:"text-h5"},B={name:"ConsolePage",components:{ConsoleDisplayer:g},data(){return{autoScrollEnabled:!0,pipDialog:!1,pipInstallPayload:{package:"",mirror:""},loading:!1,status:""}},watch:{autoScrollEnabled(d){this.$refs.consoleDisplayer&&(this.$refs.consoleDisplayer.autoScroll=d)}},methods:{pipInstall(){this.loading=!0,b.post("/api/update/pip-install",this.pipInstallPayload).then(d=>{this.status=d.data.message,setTimeout(()=>{this.status="",this.pipDialog=!1},2e3)}).catch(d=>{this.status=d.response.data.message}).finally(()=>{this.loading=!1})}}},j=Object.assign(B,{setup(d){const{tm:e}=c("features/console");return(l,o)=>(h(),f("div",D,[n("div",P,[n("h4",null,r(s(e)("title")),1),n("div",w,[a(y,{modelValue:l.autoScrollEnabled,"onUpdate:modelValue":o[0]||(o[0]=t=>l.autoScrollEnabled=t),label:l.autoScrollEnabled?s(e)("autoScroll.enabled"):s(e)("autoScroll.disabled"),"hide-details":"",density:"compact",color:"primary",style:{"margin-right":"16px"}},null,8,["modelValue","label"]),a(V,{modelValue:l.pipDialog,"onUpdate:modelValue":o[3]||(o[3]=t=>l.pipDialog=t),width:"400"},{activator:i(({props:t})=>[a(p,I({variant:"plain"},t),{default:i(()=>[u(r(s(e)("pipInstall.button")),1)]),_:2},1040)]),default:i(()=>[a(v,null,{default:i(()=>[a(C,null,{default:i(()=>[n("span",x,r(s(e)("pipInstall.dialogTitle")),1)]),_:1}),a(_,null,{default:i(()=>[a(m,{modelValue:l.pipInstallPayload.package,"onUpdate:modelValue":o[1]||(o[1]=t=>l.pipInstallPayload.package=t),label:s(e)("pipInstall.packageLabel"),variant:"outlined"},null,8,["modelValue","label"]),a(m,{modelValue:l.pipInstallPayload.mirror,"onUpdate:modelValue":o[2]||(o[2]=t=>l.pipInstallPayload.mirror=t),label:s(e)("pipInstall.mirrorLabel"),variant:"outlined"},null,8,["modelValue","label"]),n("small",null,r(s(e)("pipInstall.mirrorHint")),1),n("div",null,[n("small",null,r(l.status),1)])]),_:1}),a(S,null,{default:i(()=>[a(k),a(p,{color:"blue-darken-1",variant:"text",onClick:l.pipInstall,loading:l.loading},{default:i(()=>[u(r(s(e)("pipInstall.installButton")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),a(g,{ref:"consoleDisplayer",style:{height:"calc(100vh - 220px)"}},null,512)]))}});export{j as default};
