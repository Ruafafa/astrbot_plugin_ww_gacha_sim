# 卡池配置管理系统

## 系统概述
卡池配置管理系统是一个用于管理游戏抽卡池配置的Web应用，支持配置文件管理、物品管理和配置编辑功能。

## 目录结构
```
src/web/
├── server.py          # 服务端代码
├── resources/         # 前端静态资源
│   ├── index.html    # 主页面
│   └── app.js        # 前端脚本
└── README.md         # 配置说明文档
```

## 部署说明

### 1. 安装依赖
```bash
pip install flask flask-cors
```

### 2. 启动服务
```bash
python server.py
```

服务将在以下地址运行：
- http://127.0.0.1:5000
- http://192.168.0.103:5000

### 3. 访问系统
在浏览器中输入以上地址即可访问卡池配置管理系统。

## 功能说明

### 1. 配置文件管理
- **配置目录设置**：可以手动输入路径或使用默认路径
- **配置文件扫描**：自动加载配置目录中的所有配置文件
- **配置组切换**：支持不同配置组的切换和管理
- **配置文件操作**：支持创建、编辑和删除配置文件

### 2. 物品管理
- **物品列表**：查看所有物品信息
- **添加物品**：添加新的物品到数据库
- **编辑物品**：修改现有物品的信息
- **删除物品**：从数据库中删除物品

### 3. 配置文件编辑
- **配置组选择**：选择或输入配置组
- **卡池名称**：设置卡池名称
- **包含物品**：选择卡池包含的物品
- **概率up设置**：设置up物品及其概率
- **保底设置**：设置软保底和硬保底区间
- **概率设置**：设置基础概率和up概率

## 使用指南

### 1. 配置文件管理
1. 打开系统后，默认显示配置文件管理页面
2. 可以修改配置目录，或使用默认目录
3. 选择配置组，查看对应配置文件
4. 点击配置文件进行编辑，或点击删除按钮删除
5. 点击新建配置按钮创建新的配置文件

### 2. 物品管理
1. 点击左侧菜单栏的"物品管理"选项
2. 在物品列表中查看所有物品
3. 点击"添加物品"标签页，填写表单添加新物品
4. 点击物品卡片上的编辑按钮，修改物品信息
5. 点击删除按钮删除物品

### 3. 配置文件编辑
1. 点击左侧菜单栏的"配置文件编辑"选项
2. 选择配置组和填写卡池名称
3. 在包含物品列表中选择卡池包含的物品
4. 设置概率up的物品
5. 配置软保底和硬保底区间
6. 设置概率参数
7. 点击保存配置按钮保存配置文件

## 注意事项

1. 概率总和必须为1，否则无法保存配置
2. 至少需要选择一个包含物品，否则无法保存配置
3. 配置文件将以卡池名称命名，保存到配置目录中
4. 系统使用SQLite数据库存储物品信息
5. 不同配置组的物品存储在不同的数据库表中

## 技术栈

- **后端**：Flask
- **前端**：HTML5, CSS3, JavaScript, Bootstrap 5
- **数据库**：SQLite
- **依赖**：Flask, Flask-CORS, Axios

## 常见问题

### 1. 服务无法启动
- 检查端口是否被占用
- 检查依赖是否正确安装
- 检查Python版本是否兼容（建议Python 3.8+）

### 2. 配置文件无法保存
- 检查配置目录是否存在且有写入权限
- 检查概率总和是否为1
- 检查是否至少选择了一个包含物品

### 3. 物品无法添加到数据库
- 检查数据库文件是否有写入权限
- 检查物品信息是否填写完整

## 联系信息

如有任何问题或建议，请联系系统管理员。